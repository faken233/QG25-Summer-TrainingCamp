

# Linux

## 一、目录结构

- /：根目录，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“/home”，你其实是在告诉电脑，先从/（根目录）开始，再进入到home目录。
- /bin: /usr/bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。
- /boot：放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。
- /dev：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。
- /etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。
- /home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。
- /lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。
- /lost+fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。
- /mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。
- /opt：给主机额外安装软件所摆放的目录。
- /proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。
- /root：系统管理员root的家目录。
- /sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能"查看"而不能设置和使用。
- /tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。
- /srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。
- /usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。
- /var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其PID存放在该目录下。

## 二、常用命令

### 帮助类命令

`man` ：查看对应的帮助信息（也可以用help，不过旧点）

### 开关机命令

```bash
sync将内存中的数据同步到硬盘中电源

poweroff关闭系统，等同于shutdown -h now

reboot关机重启系统，等同于shutdown -r now

shutdown 【选项】时间参数
```

(选项： -h关机    -r   重启）

### 服务管理类命令

```bash
systemctl start 服务名     开启服务
systemctl stop 服务名    关闭服务
systemctl restart 服务名    重启服务
systemctl status 服务名    查看服务
systemctl --type service    查看正在运行的服务
```

```bash
systemctl enable 服务名 打开自启

systemctl disable 服务名  关闭自启

Systemctl is-enabled 服务名   查看服务是否自启

systemctl list-unit-files  查看所有服务自启配置
```

### 文件目录类命令

`pwd` 显示当前工作目录的绝对路径

```bash
ls [选项] [目录或文件]   打印当前目录下的文件和文件夹
```

| 选项 | 功能                                    |
| ---- | --------------------------------------- |
| -l   | 长数据串列出，包含属性与权限等          |
| -a   | 全部的文件，连同隐藏（开头为.的）的文件 |

```bash
cd 绝对路径  切换路径
cd 相对路径  切换路径
cd ~或者cd  回到自己的家目录
cd -  回到上一次所在目录
cd ..  回到当前目录的上一级日录
cd -P  跳转到实际物理路径，而非快捷方式路径
cd /  回到系统根目录
```

```bash
mkdir (-p) 要创建的目录   “加-p可以创建多层目录”
```

```bash
rmdir  要删除的空目录  删除目录
```

```bash
touch 文件名    创建文件
```

```bash
cp (-r) source dest      将source文件复制到dest  加-r 复制文件夹
```

```bash
rm [选项] 要删的文件
```

| 选项 | 功能             |
| ---- | ---------------- |
| -r   | 递归删除所有内容 |
| -f   | 强制删除         |
| -v   | 显示执行过程     |

```bash
mv 要移动的文件  移动到的位置 （新名字）
```

后缀改为bak表示删除不用的文件

```bash
head 数字 查看前5行
```

```bash
tail[选项] 查看文件末尾
```

| 选项     | 功能                             |
| -------- | -------------------------------- |
| -n<行数> | 输出文件末尾n行                  |
| -f       | 显示最新追加的内容，监视文件变化 |

```bash
echo (-e) 要打印的信息    “-e使用转义符”
```

```bash
ll >文件    (列表的内容写入文件a.txt中(覆盖写))

ll >>文件(列表的内容**迫加**到文件aa.txt的末尾)

cat文件1>文件2(将文件1的内容覆盖到文件2)

echo“内容”>> 文件
```

ln创建链接和软链接

链接表示目标资源的另外的访问方式，表示一种路径软链接也称为符号链接，类似于windons里的快捷方式，有自己的数据块，主要存放了链接其他文件的路径

`ln [-s] [原文件或目录] [链接名]         给原文件创建一个链接  （-s表示软链接）`

```bash
history 查看命令使用历史
```

时间日期类命令

```bash
date 显示当前时间

date +%Y 显示当前年份

date +%m 显示当前月份

date +%d 显示当前日期

date +"%Y-%m-%d  %H:%M:%S" 显示当前年月日时分秒
```



### 用户管理命令

```bash
useradd  用户名   添加用户

useradd -g 组名 用户名 添加新用户到某个组
```

`passwd  用户名  设置密码`

`id   用户名  查看用户是否存在`

```bash
su 用户名称 (切换用户，只能获得用户的执行权限，不能获得环变量)
su - 用户名称( 切换到用户并获得该用户的环境变量及执行权限)
```

删除用户

```bash
userdel  用户名(删除用户但保存用户主目录)
userdel -r 用户名(用户和用户主目录，都删除)
```

`whoami 显示当前用户`

```
sudo 命令  获取root权限

使用这个用户要在sudoers里面
```

### 组管理类命令

```
groupadd 组名

groupdel  组名 

usermod  -g  用户组  用户名  将一个用户挪到某个组 (组必须存在)
```



### 文件权限命令

![image-20250708200308226](C:\Users\17811\AppData\Roaming\Typora\typora-user-images\image-20250708200308226.png)

  

变更权限

```bash
chmod  [{ugoa}{+-=}{rwx}] 文件或目录    (u:属主权限;g:属组权限;o:其他用户)

chmod [mode=数字] 文件或目录  
```



改变所有者

```bash
chown 用户 文件或目录

chown -R 所有者：所有组 文件

chgrp [最终用户组] [文件或目录]  改变所属组 


```



### 搜索查找类命令

find 搜索范围  [选项]

| 选项          | 功能                           |
| ------------- | ------------------------------ |
| -name<文件名> | 按照指定的文件名查找对应的文件 |
| -user<用户名> | 查找属于指定用户名的文件       |
| -size<大小>   | 按照指定大小查找文件（单位m）  |

```
grep过滤查找（要加管道符|）

grep (-n) 查找内容 源文件  
```



 

### 压缩与解压缩命令

```bash
gzip 文件 将文件压缩成*.gz文件

gunzip 文件.gz  解压文件
```

“只能压缩文件，不能压缩目录，且不保留原来文件”



```bash
zip [选项] xxx.zip   将要压缩的内容       压缩文件或目录

unzip [选项]  xxx.zip   解压文件 
```

| zip选项       | 功能         |
| ------------- | ------------ |
| -r            | 压缩目录     |
| **unzip选项** |              |
| -d            | 指定存放目录 |

“zip可以压缩目录并保留原文件”



tar打包

```bash
tar [选项] xxx.tar.gz 将要打包的内容放进去   压缩后文件的格式是.tar.gz\
```



| 选项 | 功能               |
| ---- | ------------------ |
| -z   | 打包同时压缩       |
| -c   | 产生.tar打包文件   |
| -v   | 显示详细信息       |
| -f   | 指定压缩后的文件名 |
| -x   | 解包.tar文件       |

### 磁盘分区类命令

```
df -h 列出文件系统的整体磁盘使用量，检查文件系统 的 磁盘空间占用量

fdisk  -l  所有磁盘情况
```

挂载与卸载

`mount  [选项] [设备名] [目录]     挂载`

| 选项             | 功能                                   |
| ---------------- | -------------------------------------- |
| -t  文件系统类型 | 挂载指定的文件系统类型                 |
| -r               | 以只读方式挂载文件系统，默认为读写方式 |

`umout      /path   卸载`



### 进程与线程类命令ps

```bash
ps -aux | grep xxx 查看进程

ps -ef   查看父子进程关系
```

`kill (-9)   杀死进程`



### 系统定时任务命令

重启crond服务

`systemctl restart crond`

```bash
crontab [选项]
```



| 选项 | 功能         |
| ---- | ------------ |
| -e   | 编辑定时任务 |
| -l   | 查询任务     |
| -f   | 删除所有任务 |

| 项目      | 选项                 | 范围                  |
| --------- | -------------------- | --------------------- |
| 第一个"*“ | 一小时当中的第几分钟 | 0-59                  |
| 第二个"*“ | 一天当中的第几小时   | 0-23                  |
| 第三个“*” | 一个月当中的第几天   | 1-31                  |
| 第四个"*” | 一年当中的第几月     | 1-12                  |
| 第五个"*“ | 一周当中的星期几     | 0-7(0和7都代表星期日) |

(2)每个星号上可以使用的特殊符号

| 符号 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| *    | 代表任何时间。比如第一个"*"就代表一小时中每分钟都执行一次的意思 |
| ,    | 代表不连续的时间。比如“0,8,12,16***命令”就代表在每天的8点0分，12点0分，16点0分都执行一次命令 |
| -    | 代表连续的时间范围。比如”0 5 * * 1-6 命令”代表在周一到周六的凌晨5点0分执行命令 |
| */n  | 代表每隔多久执行一次。比如”*/10命令”代表每隔10分钟就执行一遍命令 |

### 软件安装类命令

yum:RPM包软件管理器,用于自动化安装配置Linux软件,并可以自动解决依赖问题。

语法:`yum [-y] [install | remove | search] 软件名称`
选项:-y，自动确认，,无需手动确认安装或卸载过程
install:安装
remove:卸载
search:搜索

## 三、端口

公认端口:1~1023,通常用于一些系统内置或知名程序的预留使用,如SSH服务的22端口,HTTPS服务的443端口非特殊需要，不要占用这个范围的端口

注册端口:1024~49151,通常可以随意使用,用于松散的绑定一些程序\服务

动态端口:49152~65535,通常不会固定绑定程序,而是当程序对外进行网络链接时,用于临时使用,

```bash
namp ip 查看对外端口

netstat -anp | grep 端口号 查看对应端口的占用
```

## 四、环境变量

环境变量是一组信息记录,类型是KeyValue型(名称=值)，用于操作系统运行的时候记录关键信息

通过env命令可以查看当前系统配置的环境变量信息

通过$符号,可以取出环境变量的值

环境变量PATH会记录一组目录，目录之间用:隔开。这里记录的是命令的搜索路径

当执行命令会从记录中记录的目录中挨个搜索要执行的命令并执行。

可以通过修改这个项目的值，加入自定义的命令搜索路径

如export PATH=$PATH:自定义路径

修改环境变量

| 临时生效 | export 名称=值                |
| -------- | ----------------------------- |
| 永久生效 | 针对用户:  ~/bashrc文件中配置 |
|          | 针对全用户：/etc/profile文件  |
|          | 通过source配置文件            |

