# linux常用指令

## 【基础指令】

- ### ls

  **语法：==ls  [-a -l -h]  [Linux路径]==**

  >1、-a：列出所有文件（包含隐藏的文件/文件夹）
  >
  >2、-l：以列表（竖向排列）的形式展示内容，并展示更多内容（如权限等）（不包括隐藏文件/文件夹）
  >
  >3、-h： 表示以易于阅读的形式，列出文件大小，如K、M、G 

  **注意事项：**

  1、**-a与-l可以组合应用**，如：ls -l -a、ls -la、ls -al（三种写法功能一致，即同时应用 -l 和 -a 的功能）

  2、**-h选项必须搭配 -l** 一起使用

- ### cd、pwd、特殊路径符

  **1、cd 语法：==cd  [Linux路径]==**（切换工作目录）

  > 1、cd命令无需选项，只有参数，表示要切换到哪个目录下
  >
  > 2、cd命令直接执行，不写参数，表示回到用户的HOME目录

  **注意事项**：cd可使用**绝对路径**或**相对路径**

  **2、pwd 语法：==pwd==**（查看当前工作目录）

  > pwd命令**无选项，无参数**，直接输入pwd即表示出当前目录

  **3、特殊路径符**

  - .       表示当前目录
  - ..      表示上一级目录
  - ~      表示HOME目录

- ### mkdir、touch

  **1、mkdir 语法：==mkdir  [-p]  Linux路径==**（创建新的目录）

  > 1、**参数必填**，表示Linux路径，即要创建的文件夹的路径，相对路径或绝对路径均可
  >
  > 2、**-p选项**可选，表示自动创建不存在的父目录，适用于**创建连续多层级的目录**

  **2、touch 语法：==touch  Linux路径==**（创建文件）

  > touch命令**无选项，参数必填**，表示要创建的文件路径，**相对、绝对、特殊路径符均可以使用**

- ### cat、more

  **1、cat 语法：==cat  Linux路径==**（查看文件内容）

  > **无选项，参数必填**，参数表示：被查看的文件路径，**相对、绝对、特殊路径符都可以使用**

  **2、more 语法：==more Linux路径==**（查看文件内容，**支持翻页**）

  > 1、**无选项，参数必填**，参数表示：被查看的文件路径，**相对、绝对、特殊路径符都可以使用**
  >
  > 2、在查看过程中，通过空格翻页，通过q退出查看

- ### cp

  **语法：==cp  [-r]  参数1  参数2==**（复制文件/文件夹）

  > 1、-r选项可选，用于**复制文件夹**使用，表示递归
  >
  > 2、参数1：Linux路径，表示被复制的文件或文件夹
  >
  > 3、参数2：Linux路径，表示要复制去的地方

- ### mv

  **语法：==mv  参数1  参数2==**（移动文件/文件夹）

  > 1、参数1：Linux路径，表示被移动的文件或文件夹
  >
  > 2、参数2：Linux路径，表示要移动去的地方，**如果目标不存在，则进行改名，确保目标存在**

- ### rm

  **语法：==rm  [-r  -f]  参数1  参数2  ......  参数N==**（删除文件/文件夹）

  > 1、**-f 表示**force，**强制删除**（不会弹出提示确认信息）
  >
  > - 普通用户删除内容不会弹出提示，**只有root管理员用户删除内容会有提示**，
  >
  >   所以一般普通用户用不到 -f 选项
  >
  > 2、参数1、参数2、......、参数N表示要删除的文件或文件夹路径，按照空格隔开
  >
  > 3、**-r 选项用于删除文件夹**（递归原理）
  >
  > 4、rm命令**支持通配符***，用来做模糊匹配

- ### which、find

  1、**which 语法：==which 命令==**（查看命令的程序文件存放在哪里）

  2、**find语法**：

  a、**==find  起始路径  -name  "被查找文件名=="**（按文件名查找文件）

  > 被查找文件名，**支持使用通配符***来做模糊查询

  b、**==find  起始路径  -size  + / -  n[kMG]==**（按文件大小查找文件）

  > 1、+、-表示大于和小于
  >
  > 2、n表示大小数字
  >
  > 3、kMG表示大小单位，k（**小写字母**）表示kb，M表示MB，G表示GB
  >
  > **示例**：查找小于10KB的文件：find  /  -size  -10k

- ### grep

  **语法：==grep  [-n]  关键字  文件路径==**（从文件中通过关键字过滤文件行，通常与管道符 | 组合使用）

  > 1、选项 -n ，可选，表示在结果中显示匹配的行的行号
  >
  > 2、参数，**关键字，必填**，表示过滤的关键字，带有空格或其他特殊符号，
  >
  > ​	  **建议使用“  ” 将关键字包围起来**
  >
  > 3、参数，文件路径，必填，表示要过滤内容的文件路径，**<u>可作为内容输入端口（管道符 ）</u>**

- ### wc

  **语法：==wc  [-c  -m  -l  -w]  文件路径==**（统计文件的行数、单词数量等）

  > 1、选项，-c，统计bytes数量
  >
  > 2、选项，-m，统计字符数量
  >
  > 3、选项，-l，统计行数
  >
  > 4、选项，-w，统计的单词数量
  >
  > 5、参数，文件路径，被统计的文件，**<u>可作为内容输入端口（管道符）</u>**

- ### 管道符 “|”

  **含义：将左边命令的结果，作为右边命令的输入**

  示例：cat  test.txt  |  grep  yeqian       表示从test.txt文件中过滤出yeqian

- ### echo、重定向符

  1、**echo语法：==echo  输出的内容==**（在命令行内输出指定内容）

  > 1、无选项，只有一个参数，表示要**输出的内容**，复杂内容可以**用“  ”包围**
  >
  > 2、通过将命令**用反引号（通常也称之为飘号）`** 将其包围,被包围的内容，
  >
  > ​	  会被**作为命令执行**，而非普通字符

  2、**重定向符**

  - **">"** ：将左侧命令的结果，**覆盖**写入到符号右侧指定的文件中

  - **">>"** ：将左侧命令的结果，**追加**写入到符号右侧指定的文件中

    示例：echo  “Hello itheima”  **>**  itheima.txt    =>     执行，**覆盖新内容**

    ​            echo  “Hello itcast”  **>>**  itheima.txt     =>     再次执行，使用>>**追加新内容**

- ### tail

  **语法：==tail  [-f  -num]  Linux路径==**（查看文件尾部内容，跟踪文件的最新更改）

  > 1、参数，Linux路径，表示被跟踪的文件路径
  >
  > 2、选项，-f，表示**持续跟踪**（可开多个窗口查看效果）
  >
  > 3、选项，-num，表示查看尾部多少行，**不填默认10行**

- ### vi/vim编辑器（vim为vi的加强版）

  ​																	       **三种工作模式**

  <img src="C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250708210351295.png" alt="image-20250708210351295" style="zoom:80%;" />

  - **命令模式快捷键**

  <img src="C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250708210634477.png" alt="image-20250708210634477" style="zoom:80%;" />

  <img src="C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250708210827350.png" alt="image-20250708210827350" style="zoom:100%;" />

  - **底线命令模式**

     ![image-20250708210957314](C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250708210957314.png)

- ### su、exit

  **su 语法：==su  [ - ]  用户名==**（账户切换）

  > 1、**- 符号**是可选的，表示是否在切换用户后加载环境变量，**一般都带上**
  >
  > 2、参数：用户名，表示要切换的用户，**用户名也可以省略，省略表示切换到root**
  >
  > 3、切换用户后，可以通过 **exit命令退回上一个用户**，也可以使用**快捷键：ctrl  +  d**

  **注意事项**：

  1、使用普通用户，切换到其他用户**需要输入密码**，如切换到root用户

  2、使用root用户切换到其他用户，**无需密码**，可以直接切换

- ### sudo

  **语法：==sudo  其他命令==**（为这一条命令临时赋予root授权）

  > 1、在其他命令之前，带上sudo，即可**<u>为这一条命令临时赋予root授权</u>**
  >
  > 2、但是并不是所有的用户，都有权利使用sudo，我们**<u>需要为普通用户配置sudo认证</u>**

- ### 为普通用户配置sudo认证

  - 切换到 root 用户，执行visudo命令，会自动通过 vi 编辑器打开：/etc/sudoers

  - 在文件的最后添加：（这里 itheima 为用户，**中间为一个tab**）

    ![image-20250708214924846](C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250708214924846.png)

  - 其中最后的NOPASSWD：ALL表示使用sudo命令，无需输入密码

  - 最后通过wq保存

  - ==> itheima 用户**可以使用 sudo 命令**

## 【用户组管理、用户管理、权限管理】

- ### 用户组管理（以下命令需root用户执行）

  - **创建用户组**  =>  **==groupadd  用户组名==**
  - **删除用户组**  => **==groupdel  用户组名== **

- ### 用户管理（以下命令需root用户执行）

  - **创建用户**

    **==useradd  [-g  -d]  用户名==**

    > 1、选项：**-g** 指定**用户的组**，**不指定 -g 会创建同名组并自动加入**，指定 -g 需要组已经存在，如已存在同名组，必须使用-g
    >
    > 2、选项：-d 指定**用户HOME路径**，**不指定 -h 则HOME目录默认在：/home/用户名**

  - **删除用户**

    **==userdel  [-r]  用户名==**

    > 选项：**使用 -r** ，删除用户的HOME目录，**不使用 -r**，删除用户时，HOME目录保留

  - **查看用户所属组**

    **==id  [用户名]==**

    > 参数：用户名，被查看的用户，如果**不提供则查看自身**

  - **修改用户所属组**

    **==usermod  -aG  用户组  用户名==**  =>  将指定用户加入指定用户组

- ### getent

  - **==getent  passwd==**  =>  查看当前系统中**有哪些用户**

    包括**7份信息**，分别是:
    用户名 **:** 密码(x) **:** 用户ID **:** 组ID **:** 描述信息(无用) **:** HOME目录 **:** 执行终端(默认bash)

  - **==getent  group==**  =>  查看当前系统中**有哪些用户组**

    包含**3份信息**，组名称 **:** 组认证(显示为x) **:** 组ID

- ### chmod

  **==语法：chmod  [-R]  权限  文件或文件夹==**（修改文件、文件夹的权限信息）

  > 1、选项：**-R，对文件夹内的全部内容应用同样的操作**
  >
  > 2、**注意：<u>只有文件、文件夹的所属用户或root用户可以修改。</u>**

  示例：

  - **chmod**  u=rwx, g=rx, o=x  hello.txt  =>  将文件权限修改为：rwxr-x--x
  - **chmod  -R**  u=rwx, g=rx, o=x  test  =>  将文件夹test以及文件夹内全部内容权限设置为：rwxr-x--x
    - 其中：u表示user所属用户权限，g表示group组权限，o表示other其它用户权限

- ### 权限的数字序号

  **权限可以用3位数字来代表**，第一位数字表示用户权限，第二位表示用户组权限，第三位表示其它用户权限。

  - 数字的细节如下：**<u>r记为4，w记为2，x记为1</u>**，可以有：

  - 0：无任何权限，即 ---
  - 1：仅有x权限，即 --x
  - 2：仅有w权限，即 -w-
  - 3：有w和x权限，即 -wx
  - 4：仅有r权限，即 r--
  - 5：有r和x权限，即 r-x
  - 6：有r和w权限，即 rw-
  - 7：有全部权限，即rwx

  **示例**：chmod  **751**  test.txt  等同于  chmod  **u=rwx,g=r-x,o=--x**  test.txt  

- ### chown（只适用于root用户执行）

  **语法：==chown  [-R]  [用户]  [:]  [用户组]  文件或文件夹==**（修改文件、文件夹的所属用户和用户组）

  > 1、选项，**-R**，同chmod，**对文件夹内全部内容应用相同规则**
  >
  > 2、选项，用户，修改所属用户
  >
  > 3、选项，用户组，修改所属用户组
  >
  > 4、：用于分隔用户和用户组

​        示例：1、chown  **root**  hello.txt  =>  将 hello.txt **所属用户**修改为 root

​					2、chown  **:root**  hello.txt  =>  将 hello.txt **所属用户组**修改为root

​					3、chown  **root:theima**  hello.txt  =>  将 hello.txt **所属用户**修改为root，**用户组**修改为itheima

​					4、chown  **-R**  root  test  =>  将文件夹 test 的所属用户修改为 root，

​																	   **并对文件夹内全部内容应用同样规则**

## 【端口、进程】

- ### yum（需要root权限，或使用sudo提权，需要联网）

  **语法：==yum  [-y]  [install  |  remove  |  search]  软件名称==**

  > 1、选项：-y，自动确认，无需手动确认安装或卸载过程
  >
  > 2、install：安装
  >
  > 3、remove：卸载
  >
  > 4、search：搜索

- ### nmap、netstat（查看端口占用）

  1、**nmap语法：==nmap  被查看的 IP 地址==**

  注意：使用 nmap 命令，需**安装 nmap**：**<u>yum  -y  install  nmap</u>**

  > 示例：**nmap**  127.0.0.1
  >
  > ![image-20250709090534330](C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250709090534330.png)

  2、**netstat语法：==netstat  -anp  |  grep  端口号==**

  注意：使用 netstat命令，需安装 netstat：yum  -y  install  net-tools

  > 示例：netstat  -anp  |  grep  6000
  >
  > ![image-20250709090442331](C:\Users\28642\AppData\Roaming\Typora\typora-user-images\image-20250709090442331.png)

- ### ps（查看进程）

  **语法：==ps  [-e  -f]==**

  > 1、选项：-e，显示出全部的进程
  >
  > 2、选项：-f，以完全格式化的形式展示信息（展示全部信息）
  >
  > 3、一般来说：固定用法就是：**<u>ps  -ef</u>**  =>  列出全部进程的全部信息

- ### kill（关闭进程）

  **语法：==kill  [-9]  进程ID==**

  > 选项：-9，表示强制关闭进程。**不使用此选项**会向进程发送信号要求其关闭，
  >
  > ​			但是否关闭**看进程自身的处理机制**